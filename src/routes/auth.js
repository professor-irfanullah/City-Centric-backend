const express = require('express')
const { test } = require('../controllers/test')
const { registerUser } = require('../controllers/register')
const { regitrationVerification } = require('../controllers/verifyRegisteration.js')
const { login } = require('../controllers/login.js')
const { protectedRoute } = require('../middlewware/verifyTokenMiddleware.js')
const { protectedRouteHandler } = require('../controllers/ptotectedRoute.js')
const limiter = require('../middlewware/rateLimiter.js')
const router = express.Router()
router.use(express.json())

router.get('/test', test)
router.post('/verify', regitrationVerification)
router.post('/register', registerUser)
router.post('/login', limiter, login)
router.get('/protected', protectedRoute, protectedRouteHandler)
module.exports = router